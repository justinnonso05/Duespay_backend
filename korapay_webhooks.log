Invalid webhook signature
Webhook received: 
Invalid JSON in webhook payload
Korapay webhook signature invalid
Korapay webhook: no Transaction for reference KPY-PAY-KOf8IC9uooaem5G
Korapay webhook: no Transaction for reference KPY-PAY-w4cFBGxCkHMiSqY
Korapay webhook signature invalid
Korapay webhook: no Transaction for reference KPY-PAY-WWBoTxxTHG0lnBv
Korapay init charge failed
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 177, in post
    korapay_res = korapay_init_charge(
                  ^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 61, in korapay_init_charge
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 422 Client Error: Unprocessable Entity for url: https://api.korapay.com/merchant/api/v1/charges/initialize
Korapay init charge failed
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 178, in post
    korapay_res = korapay_init_charge(
                  ^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 84, in korapay_init_charge
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 422 Client Error: Unprocessable Entity for url: https://api.korapay.com/merchant/api/v1/charges/initialize
Transaction TX-2047-450-RG verified via Korapay hosted checkout
Korapay webhook: no Transaction for reference KPY-PAY-KOf8IC9uooaem5G
Korapay webhook: no Transaction for reference KPY-PAY-w4cFBGxCkHMiSqY
Transaction TX-9622-197-TV verified (matched_by=reference)
Korapay init charge failed
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 201, in post
    korapay_res = korapay_init_charge(
                  ^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 75, in korapay_init_charge
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api.korapay.com/merchant/api/v1/charges/initialize
Korapay init charge failed
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 201, in post
    korapay_res = korapay_init_charge(
                  ^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 75, in korapay_init_charge
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api.korapay.com/merchant/api/v1/charges/initialize
Korapay init charge failed
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 201, in post
    korapay_res = korapay_init_charge(
                  ^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 75, in korapay_init_charge
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api.korapay.com/merchant/api/v1/charges/initialize
Korapay init charge failed
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 201, in post
    korapay_res = korapay_init_charge(
                  ^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 75, in korapay_init_charge
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api.korapay.com/merchant/api/v1/charges/initialize
Transaction TX-4495-769-VG verified via Korapay hosted checkout
Korapay init charge failed
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 201, in post
    korapay_res = korapay_init_charge(
                  ^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 75, in korapay_init_charge
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api.korapay.com/merchant/api/v1/charges/initialize
Transaction TX-8078-205-CB verified via Korapay hosted checkout
Transaction TX-8859-054-KZ verified via Korapay hosted checkout
Transaction TX-2212-001-CD verified via Korapay hosted checkout
Transaction TX-8920-812-QR verified via Korapay hosted checkout
Transaction TX-9452-807-AI verified via Korapay hosted checkout
Payout attempt failed for txn TX-9452-807-AI
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 298, in korapay_webhook
    korapay_payout_bank(
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 138, in korapay_payout_bank
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.korapay.com/merchant/api/v1/payouts
Transaction TX-1420-059-MW verified via Korapay hosted checkout
Payout attempt failed for txn TX-1420-059-MW
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 298, in korapay_webhook
    korapay_payout_bank(
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 138, in korapay_payout_bank
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 422 Client Error: Unprocessable Entity for url: https://api.korapay.com/merchant/api/v1/transactions/disburse
Transaction TX-4180-036-AZ verified via Korapay hosted checkout
Transaction TX-6325-341-SI verified via Korapay hosted checkout
Transaction TX-7676-205-FD verified via Korapay hosted checkout
[INITIATE] ref=TX-9479-840-HX payer=1 assoc=1 items=[1] amount=3000.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback
[INITIATE][OK] ref=TX-9479-840-HX checkout_url=https://test-checkout.korapay.com/KPY-PI-202508160708PfLOVG58386/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status']
[WEBHOOK][VERIFIED] ref=TX-9479-840-HX amount=3000
[PAYOUT][START] ref=TX-9479-840-HX-OUT bank=033 acct=0000000000 amount=3000 assoc_id=1
[PAYOUT][END] ref=TX-9479-840-HX-OUT ok
[WEBHOOK] event=transfer.success data_keys=['reference', 'currency', 'amount', 'fee', 'status']
[INITIATE] ref=TX-8943-729-PF payer=7 assoc=1 items=[1, 2] amount=8000.00 customer={'name': 'Justin22 Chinonso2', 'email': 'jcmailer.1@gmail.com'} redirect=http://localhost:5173/payment/callback
[INITIATE][OK] ref=TX-8943-729-PF checkout_url=https://test-checkout.korapay.com/KPY-PI-202508160724FSi1AD13244/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status']
[WEBHOOK][VERIFIED] ref=TX-8943-729-PF amount=8000
[PAYOUT][START] ref=TX-8943-729-PF-OUT bank=033 acct=0000000000 amount=8000 assoc_id=1
[PAYOUT][END] ref=TX-8943-729-PF-OUT ok
[WEBHOOK] event=transfer.success data_keys=['reference', 'currency', 'amount', 'fee', 'status']
[INITIATE] ref=TX-8626-500-SP base=3000.00 fee=100.00 charge=3100.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback
[INITIATE][OK] ref=TX-8626-500-SP checkout_url=https://test-checkout.korapay.com/KPY-PI-202508160740roqzN003499/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status']
[WEBHOOK][VERIFIED] ref=TX-8626-500-SP amount=3000.00
[PAYOUT][START] ref=TX-8626-500-SP-OUT bank=033 acct=0000000000 amount=3000.00 assoc_id=1
[PAYOUT][END] ref=TX-8626-500-SP-OUT ok
[WEBHOOK] event=transfer.success data_keys=['reference', 'currency', 'amount', 'fee', 'status']
[INITIATE] ref=TX-1754-267-HP base=150.00 fee=100.00 charge=250.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback
[INITIATE][OK] ref=TX-1754-267-HP checkout_url=https://checkout.korapay.com/KPY-PI-2025081610549FJl1v52966/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status', 'virtual_bank_account_details', 'transaction_date']
[WEBHOOK][VERIFIED] ref=TX-1754-267-HP amount=150.00
[PAYOUT][START] ref=TX-1754-267-HP-OUT bank=090405 acct=9034049657 amount=150.00 assoc_id=1
[PAYOUT][ERROR] ref=TX-1754-267-HP
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 342, in korapay_webhook
    korapay_payout_bank(
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 184, in korapay_payout_bank
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: https://api.korapay.com/merchant/api/v1/transactions/disburse
[2025-08-16T11:41:32.056065+00:00][PAYOUT][REQ] ref=TX-1754-267-HP-OUT amount=150 bank=090405 acct=9034049657
[2025-08-16T11:41:33.886947+00:00][PAYOUT][ERR] ref=TX-1754-267-HP-OUT status=409 resp={'status': False, 'error': 'conflict', 'message': 'You are not authorized for payout in NGN to bank_account via api', 'data': {'status': 'failed', 'message': 'You are not authorized for payout in NGN to bank_account via api', 'reference': 'TX-1754-267-HP-OUT'}}
[2025-08-17T12:54:12.989706+00:00][BANKS][OK] fetched=272
[2025-08-17T12:54:13.015135+00:00][BANKS] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account.number', 'message': 'size must be between 10 and 10'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account.number', 'message': 'size must be between 10 and 10'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account.number', 'message': 'size must be between 10 and 10'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account', 'message': 'must not be null'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[VERIFY][KORAPAY] acct=9046665617 bank=100004
[VERIFY][KORAPAY][OK] acct=9046665617 bank=100004
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'ACCOUNT_VERIFICATION_FAILED', 'code': '250400', 'message': 'Unable to verify the account details. Please check the details and try again.', 'validation_errors': []}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=0000000000 bank=033
[VERIFY][KORAPAY][OK] acct=0000000000 bank=033
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=0000000000 bank=033
[VERIFY][KORAPAY][OK] acct=0000000000 bank=033
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=0000000000 bank=033
[VERIFY][KORAPAY][OK] acct=0000000000 bank=033
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=0000000000 bank=100004
[VERIFY][KORAPAY][ERR] status=400 body={'status': False, 'code': 'AA027', 'message': 'Invalid account.', 'data': None}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=9046665612 bank=100004
[VERIFY][KORAPAY][ERR] status=400 body={'status': False, 'code': 'AA027', 'message': 'Invalid account.', 'data': None}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=9046665617 bank=100004
[VERIFY][KORAPAY][OK] acct=9046665617 bank=100004
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=9046665617 bank=090405
[VERIFY][KORAPAY][ERR] status=400 body={'status': False, 'code': 'AA027', 'message': 'Invalid account.', 'data': None}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[VERIFY][KORAPAY] acct=9034049657 bank=090405
[VERIFY][KORAPAY][OK] acct=9034049657 bank=090405
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account', 'message': 'must not be null'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account', 'message': 'must not be null'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account', 'message': 'must not be null'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account', 'message': 'must not be null'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[FLUTTERWAVE][RESOLVE][FAIL] {'status': 'failed', 'error': {'type': 'REQUEST_NOT_VALID', 'code': '10400', 'message': 'Request is not valid', 'validation_errors': [{'field_name': 'account.code', 'message': 'must not be null'}, {'field_name': 'account.number', 'message': 'must not be null'}]}}
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY][OK] fetched=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=272
[INITIATE] ref=TX-0310-597-UW base=8500.00 fee=100.00 charge=8600.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback
[2025-08-23T07:35:57.994405+00:00][CHARGE][REQ] ref=TX-0310-597-UW amount=8600.00 email=chinonsoali2005@gmail.com meta={'txn_ref': 'TX-0310-597-UW', 'platform_fee': '100.00', 'base_amount': '8500.00', 'association_id': 1, 'payer_id': 1}
[2025-08-23T07:35:58.960733+00:00][CHARGE][OK] ref=TX-0310-597-UW status=200
[INITIATE][OK] ref=TX-0310-597-UW checkout_url=https://checkout.korapay.com/KPY-PI-202508230829fPtjGe42331/pay
[INITIATE] ref=TX-2035-279-YH base=6500.00 fee=100.00 charge=6600.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback?assoc=nacos
[2025-08-23T11:36:02.493294+00:00][CHARGE][REQ] ref=TX-2035-279-YH amount=6600.00 email=chinonsoali2005@gmail.com meta={'txn_ref': 'TX-2035-279-YH', 'platform_fee': '100.00', 'base_amount': '6500.00', 'association_id': 1, 'payer_id': 1}
[2025-08-23T11:36:03.912662+00:00][CHARGE][OK] ref=TX-2035-279-YH status=200
[INITIATE][OK] ref=TX-2035-279-YH checkout_url=https://test-checkout.korapay.com/KPY-PI-202508231136IXgYxx03761/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status']
[WEBHOOK][VERIFIED] ref=TX-2035-279-YH amount=6500.00
[PAYOUT][START] ref=TX-2035-279-YH-OUT bank=033 acct=0000000003 amount=6500.00 assoc_id=1
[2025-08-23T11:37:29.340220+00:00][PAYOUT][REQ] ref=TX-2035-279-YH-OUT amount=6500 bank=033 acct=0000000003
[2025-08-23T11:37:30.902593+00:00][PAYOUT][ERR] ref=TX-2035-279-YH-OUT status=409 resp={'status': False, 'error': 'conflict', 'message': 'Invalid account.', 'data': {'status': 'failed', 'message': 'Invalid account.', 'reference': 'TX-2035-279-YH-OUT'}}
[PAYOUT][ERROR] ref=TX-2035-279-YH
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 404, in korapay_webhook
    korapay_payout_bank(
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 184, in korapay_payout_bank
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 409 Client Error: Conflict for url: https://api.korapay.com/merchant/api/v1/transactions/disburse
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=253
[INITIATE] ref=TX-4751-072-EO base=2500.00 fee=100.00 charge=2600.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback?assoc=nacos
[2025-08-23T13:14:47.325322+00:00][CHARGE][REQ] ref=TX-4751-072-EO amount=2600.00 email=chinonsoali2005@gmail.com meta={'txn_ref': 'TX-4751-072-EO', 'platform_fee': '100.00', 'base_amount': '2500.00', 'association_id': 1, 'payer_id': 1}
[2025-08-23T13:14:48.556028+00:00][CHARGE][OK] ref=TX-4751-072-EO status=200
[INITIATE][OK] ref=TX-4751-072-EO checkout_url=https://test-checkout.korapay.com/KPY-PI-202508231314puJMAS48408/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status']
[WEBHOOK][VERIFIED] ref=TX-4751-072-EO amount=2500.00
[PAYOUT][START] ref=TX-4751-072-EO-OUT bank=033 acct=0000000003 amount=2500.00 assoc_id=1
[2025-08-23T13:15:48.716669+00:00][PAYOUT][REQ] ref=TX-4751-072-EO-OUT amount=2500 bank=033 acct=0000000003
[2025-08-23T13:15:50.650321+00:00][PAYOUT][ERR] ref=TX-4751-072-EO-OUT status=409 resp={'status': False, 'error': 'conflict', 'message': 'Invalid account.', 'data': {'status': 'failed', 'message': 'Invalid account.', 'reference': 'TX-4751-072-EO-OUT'}}
[PAYOUT][ERROR] ref=TX-4751-072-EO
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 404, in korapay_webhook
    korapay_payout_bank(
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 184, in korapay_payout_bank
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 409 Client Error: Conflict for url: https://api.korapay.com/merchant/api/v1/transactions/disburse
[INITIATE] ref=TX-2775-683-SZ base=9500.00 fee=100.00 charge=9600.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback?assoc=nacos
[2025-08-23T13:33:35.809873+00:00][CHARGE][REQ] ref=TX-2775-683-SZ amount=9600.00 email=chinonsoali2005@gmail.com meta={'txn_ref': 'TX-2775-683-SZ', 'platform_fee': '100.00', 'base_amount': '9500.00', 'association_id': 1, 'payer_id': 1}
[2025-08-23T13:33:37.002256+00:00][CHARGE][OK] ref=TX-2775-683-SZ status=200
[INITIATE][OK] ref=TX-2775-683-SZ checkout_url=https://test-checkout.korapay.com/KPY-PI-202508231333qYdHN936856/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status']
[WEBHOOK][VERIFIED] ref=TX-2775-683-SZ amount=9500.00
[PAYOUT][START] ref=TX-2775-683-SZ-OUT bank=033 acct=0000000003 amount=9500.00 assoc_id=1
[2025-08-23T13:35:21.756985+00:00][PAYOUT][REQ] ref=TX-2775-683-SZ-OUT amount=9500 bank=033 acct=0000000003
[2025-08-23T13:35:23.360428+00:00][PAYOUT][ERR] ref=TX-2775-683-SZ-OUT status=409 resp={'status': False, 'error': 'conflict', 'message': 'Invalid account.', 'data': {'status': 'failed', 'message': 'Invalid account.', 'reference': 'TX-2775-683-SZ-OUT'}}
[PAYOUT][ERROR] ref=TX-2775-683-SZ
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 404, in korapay_webhook
    korapay_payout_bank(
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 184, in korapay_payout_bank
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 409 Client Error: Conflict for url: https://api.korapay.com/merchant/api/v1/transactions/disburse
[INITIATE] ref=TX-9119-520-JE base=1500.00 fee=100.00 charge=1600.00 customer={'name': 'Justin Chinonso', 'email': 'chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback?assoc=nacos
[2025-08-23T13:36:13.590091+00:00][CHARGE][REQ] ref=TX-9119-520-JE amount=1600.00 email=chinonsoali2005@gmail.com meta={'txn_ref': 'TX-9119-520-JE', 'platform_fee': '100.00', 'base_amount': '1500.00', 'association_id': 1, 'payer_id': 1}
[2025-08-23T13:36:14.222595+00:00][CHARGE][OK] ref=TX-9119-520-JE status=200
[INITIATE][OK] ref=TX-9119-520-JE checkout_url=https://test-checkout.korapay.com/KPY-PI-202508231336T2WkCL14085/pay
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY][OK] fetched=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[INITIATE] ref=TX-4680-120-QR base=3500.00 fee=100.00 charge=3600.00 customer={'name': 'Justin Chinonso', 'email': 'Chinonsoali2005@gmail.com'} redirect=http://localhost:5173/payment/callback?assoc=nfcs
[2025-08-23T15:03:30.112135+00:00][CHARGE][REQ] ref=TX-4680-120-QR amount=3600.00 email=Chinonsoali2005@gmail.com meta={'txn_ref': 'TX-4680-120-QR', 'platform_fee': '100.00', 'base_amount': '3500.00', 'association_id': 2, 'payer_id': 283}
[2025-08-23T15:03:32.178052+00:00][CHARGE][OK] ref=TX-4680-120-QR status=200
[INITIATE][OK] ref=TX-4680-120-QR checkout_url=https://test-checkout.korapay.com/KPY-PI-202508231503Di4mcj31520/pay
[WEBHOOK] event=charge.success data_keys=['reference', 'payment_reference', 'currency', 'amount', 'fee', 'payment_method', 'status']
[WEBHOOK][VERIFIED] ref=TX-4680-120-QR amount=3500.00
[PAYOUT][START] ref=TX-4680-120-QR-OUT bank=011 acct=0000000000 amount=3500.00 assoc_id=2
[2025-08-23T15:04:14.411025+00:00][PAYOUT][REQ] ref=TX-4680-120-QR-OUT amount=3500 bank=011 acct=0000000000
[2025-08-23T15:04:16.786259+00:00][PAYOUT][ERR] ref=TX-4680-120-QR-OUT status=409 resp={'status': False, 'error': 'conflict', 'message': 'Invalid account.', 'data': {'status': 'failed', 'message': 'Invalid account.', 'reference': 'TX-4680-120-QR-OUT'}}
[PAYOUT][ERROR] ref=TX-4680-120-QR
Traceback (most recent call last):
  File "C:\Projects\DuesPay\Duespay_backend\main\views.py", line 404, in korapay_webhook
    korapay_payout_bank(
  File "C:\Projects\DuesPay\Duespay_backend\main\services.py", line 184, in korapay_payout_bank
    resp.raise_for_status()
  File "C:\Projects\DuesPay\Duespay_backend\venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 409 Client Error: Conflict for url: https://api.korapay.com/merchant/api/v1/transactions/disburse
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[VERIFY][KORAPAY] acct=9046665617 bank=305
[VERIFY][KORAPAY][OK] acct=9046665617 bank=305
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
[BANKS][KORAPAY] Fetching bank list...
[BANKS][KORAPAY] Using cached banks count=253
